version: "3.1"

rules:

  # Một số rule repeat như chào và bye sẽ được thêm vào đây không cần đẩy vào story
  - rule: Start story rule
    steps:
      - intent: greet_hello #-> file domain.yml -> intents -> nlu (greet_hello)
      - action: utter_greet_hello #-> file domain.yml -> responses -> utter_greet_hello

  # Xử lí nếu như story đi đến intent có chứa rule thì sẽ chạy rule này
  # Nó sẽ đi theo flow domain -> rule -> story -> rồi thư thi các intent và action
  # Nghĩa là nếu chát intent: mood_great_2 thì action utter_goodbye_2 sẽ được chạy trước dù dang đứng ở story nào
  - rule: Kết thúc một story rule
    steps:
      - intent: mood_great_2
      - action: utter_goodbye_2
# Giải thích:
# Đoạn code trình bày một rule có tên "Rule chuyển sang story 2" để chuyển hướng người dùng từ một story khác sang story 2 trong quá trình trò chuyện.

# steps (bước): Trong rule, chúng ta chỉ định các bước để xác định và thực hiện chuyển hướng sang story 2.
# intent: Bước đầu tiên là xác định intent "mood_great_2", đại diện cho trạng thái tốt của người dùng hoặc một intent bất kỳ mà bạn muốn sử dụng để kích hoạt chuyển hướng.
# action: Tiếp theo, chúng ta sử dụng action "utter_goodbye_2" để gửi một phản hồi tới người dùng, có thể là lời tạm biệt hoặc bất kỳ thông điệp nào khác.
# Khi người dùng gửi một intent được xác định là "mood_great_2" (hoặc intent tương tự), bot sẽ thực hiện action "utter_goodbye_2" để gửi một phản hồi và sau đó kết thúc story hiện tại và chuyển sang story 2, nơi các bước tiếp theo sẽ được thực hiện.